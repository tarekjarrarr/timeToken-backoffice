
<nb-card>
  <nb-card-header>
      <div class="title">
          <img src="../../../../assets/images/timeToken-60x60.png">

          <p class="sub-title">TimeToken</p>
          <h2 *ngIf="!editMode" id="title" class="title">Create a promotion </h2>
          <h2 *ngIf="editMode" id="title" class="title">edit a promotion </h2>
      </div>

  </nb-card-header>
  <nb-card-body>
      <div class="row justify-content-md-center">
          <div class="col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4">
              <form [formGroup]="addForm" (ngSubmit)="onSubmit()">

                  <div class=" row">
                    <div class="form-group col col-sm-8">
                      <input type="text" nbInput class="form-control" formControlName="name" placeholder="promotion title*">
                      <ng-container *ngIf="submitted && !valid">
                          <p class="text-danger">
                             title is required!
                          </p>
                      </ng-container>
                    </div>
                    
                    <div class="form-group col col-sm-4">
                        <select nbInput class="form-control input-rectangle" formControlName="category">
                            <option value=""  disabled selected data-default>type :</option>
                            <option value="Discount">Discount</option>
                            <option value="Flash sales">Flash sales</option>
                            <option value="Gift">Gift</option>
                            <option value="Coupon">Coupon</option>
                            <option value="Others">Others</option>
                        </select> 
                        <ng-container *ngIf="submitted && !valid">
                            <p class="text-danger">
                                type is required!
                            </p>
                        </ng-container>
                    </div>

                  </div>
                  
                  <div class="form-group" *ngIf="!editMode" >
                      <select nbInput class="form-control input-rectangle" formControlName="id_company">
                        <option value=""  disabled selected data-default>company :</option>
                        <option *ngFor="let company of companies" [value]="company.id">{{company.name}}</option>
                      </select> 
                      <ng-container *ngIf="submitted && !valid">
                          <p class="text-danger">
                              company is required!
                          </p>
                      </ng-container>
                  </div>
              

                  <div class="form-group">
                   <!--  <input nbInput  [min]="minDate" date="true" time="false" [matDatepicker]="picker" placeholder="Choose expiration date" formControlName="expiration_date">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker> -->
                    <input nbInput  type="text" class="form-control" placeholder="Choose expiration date" formControlName="expiration_date">
                    <ng-container *ngIf="submitted && !valid">
                      <p class="text-danger">
                        please mention the expiration date.
                      </p>
                  </ng-container>
                  </div>

                  <div class="form-group">
                    <textarea nbInput class="input-rectangle" rows="4" cols="60" placeholder="Promotion Description." formControlName="description">
                    </textarea>
                    
                      <ng-container *ngIf="submitted && !valid">
                          <p class="text-danger">
                              Description is required!
                          </p>
                      </ng-container>
                  </div>

                  <div class="form-group ">
                      <div class="col">
                        <input type="number" nbInput class="form-control" formControlName="cost" placeholder="cost">
                      </div>
                  </div>

                  <div class="form-group">
                    <input type="file" nbInput  class="form-control upload" formControlName="image" >
                  </div>

                  <button type="submit" nbButton shape="round" class="btn btn-success" >{{ editMode ? 'Update' : 'Continue' }}</button>
              </form>
          </div>
      </div>


      
  </nb-card-body>
</nb-card>